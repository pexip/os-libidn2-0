<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>Libidn2 Reference Manual: idn2</title>
<meta name="generator" content="DocBook XSL Stylesheets V1.78.1">
<link rel="home" href="index.html" title="Libidn2 Reference Manual">
<link rel="up" href="libidn2.html" title="Libidn2 Overview">
<link rel="prev" href="libidn2.html" title="Libidn2 Overview">
<link rel="next" href="api-index-full.html" title="API Index">
<meta name="generator" content="GTK-Doc V1.21 (XML mode)">
<link rel="stylesheet" href="style.css" type="text/css">
</head>
<body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF">
<table class="navigation" id="top" width="100%" summary="Navigation header" cellpadding="2" cellspacing="5"><tr valign="middle">
<td width="100%" align="left" class="shortcuts">
<a href="#" class="shortcut">Top</a><span id="nav_description">  <span class="dim">|</span> 
                  <a href="#libidn2-idn2.description" class="shortcut">Description</a></span>
</td>
<td><a accesskey="h" href="index.html"><img src="home.png" width="16" height="16" border="0" alt="Home"></a></td>
<td><a accesskey="u" href="libidn2.html"><img src="up.png" width="16" height="16" border="0" alt="Up"></a></td>
<td><a accesskey="p" href="libidn2.html"><img src="left.png" width="16" height="16" border="0" alt="Prev"></a></td>
<td><a accesskey="n" href="api-index-full.html"><img src="right.png" width="16" height="16" border="0" alt="Next"></a></td>
</tr></table>
<div class="refentry">
<a name="libidn2-idn2"></a><div class="titlepage"></div>
<div class="refnamediv"><table width="100%"><tr>
<td valign="top">
<h2><span class="refentrytitle"><a name="libidn2-idn2.top_of_page"></a>idn2</span></h2>
<p>idn2</p>
</td>
<td class="gallery_image" valign="top" align="right"></td>
</tr></table></div>
<div class="refsect1">
<a name="libidn2-idn2.functions"></a><h2>Functions</h2>
<div class="informaltable"><table width="100%" border="0">
<colgroup>
<col width="150px" class="functions_return">
<col class="functions_name">
</colgroup>
<tbody>
<tr>
<td class="function_type">
<span class="returnvalue">int</span>
</td>
<td class="function_name">
<a class="link" href="libidn2-idn2.html#idn2-lookup-u8" title="idn2_lookup_u8 ()">idn2_lookup_u8</a> <span class="c_punctuation">()</span>
</td>
</tr>
<tr>
<td class="function_type">
<span class="returnvalue">int</span>
</td>
<td class="function_name">
<a class="link" href="libidn2-idn2.html#idn2-register-u8" title="idn2_register_u8 ()">idn2_register_u8</a> <span class="c_punctuation">()</span>
</td>
</tr>
<tr>
<td class="function_type">
<span class="returnvalue">int</span>
</td>
<td class="function_name">
<a class="link" href="libidn2-idn2.html#idn2-lookup-ul" title="idn2_lookup_ul ()">idn2_lookup_ul</a> <span class="c_punctuation">()</span>
</td>
</tr>
<tr>
<td class="function_type">
<span class="returnvalue">int</span>
</td>
<td class="function_name">
<a class="link" href="libidn2-idn2.html#idn2-register-ul" title="idn2_register_ul ()">idn2_register_ul</a> <span class="c_punctuation">()</span>
</td>
</tr>
<tr>
<td class="function_type">const <span class="returnvalue">char</span> *
</td>
<td class="function_name">
<a class="link" href="libidn2-idn2.html#idn2-strerror" title="idn2_strerror ()">idn2_strerror</a> <span class="c_punctuation">()</span>
</td>
</tr>
<tr>
<td class="function_type">const <span class="returnvalue">char</span> *
</td>
<td class="function_name">
<a class="link" href="libidn2-idn2.html#idn2-strerror-name" title="idn2_strerror_name ()">idn2_strerror_name</a> <span class="c_punctuation">()</span>
</td>
</tr>
<tr>
<td class="function_type">const <span class="returnvalue">char</span> *
</td>
<td class="function_name">
<a class="link" href="libidn2-idn2.html#idn2-check-version" title="idn2_check_version ()">idn2_check_version</a> <span class="c_punctuation">()</span>
</td>
</tr>
<tr>
<td class="function_type">
<span class="returnvalue">void</span>
</td>
<td class="function_name">
<a class="link" href="libidn2-idn2.html#idn2-free" title="idn2_free ()">idn2_free</a> <span class="c_punctuation">()</span>
</td>
</tr>
</tbody>
</table></div>
</div>
<div class="refsect1">
<a name="libidn2-idn2.other"></a><h2>Types and Values</h2>
<div class="informaltable"><table width="100%" border="0">
<colgroup>
<col width="150px" class="name">
<col class="description">
</colgroup>
<tbody>
<tr>
<td class="define_keyword">#define</td>
<td class="function_name"><a class="link" href="libidn2-idn2.html#IDN2-VERSION:CAPS" title="IDN2_VERSION">IDN2_VERSION</a></td>
</tr>
<tr>
<td class="define_keyword">#define</td>
<td class="function_name"><a class="link" href="libidn2-idn2.html#IDN2-VERSION-NUMBER:CAPS" title="IDN2_VERSION_NUMBER">IDN2_VERSION_NUMBER</a></td>
</tr>
<tr>
<td class="define_keyword">#define</td>
<td class="function_name"><a class="link" href="libidn2-idn2.html#IDN2-LABEL-MAX-LENGTH:CAPS" title="IDN2_LABEL_MAX_LENGTH">IDN2_LABEL_MAX_LENGTH</a></td>
</tr>
<tr>
<td class="define_keyword">#define</td>
<td class="function_name"><a class="link" href="libidn2-idn2.html#IDN2-DOMAIN-MAX-LENGTH:CAPS" title="IDN2_DOMAIN_MAX_LENGTH">IDN2_DOMAIN_MAX_LENGTH</a></td>
</tr>
<tr>
<td class="datatype_keyword">enum</td>
<td class="function_name"><a class="link" href="libidn2-idn2.html#idn2-flags" title="enum idn2_flags">idn2_flags</a></td>
</tr>
<tr>
<td class="datatype_keyword">enum</td>
<td class="function_name"><a class="link" href="libidn2-idn2.html#idn2-rc" title="enum idn2_rc">idn2_rc</a></td>
</tr>
</tbody>
</table></div>
</div>
<div class="refsect1">
<a name="libidn2-idn2.description"></a><h2>Description</h2>
<p>
</p>
</div>
<div class="refsect1">
<a name="libidn2-idn2.functions_details"></a><h2>Functions</h2>
<div class="refsect2">
<a name="idn2-lookup-u8"></a><h3>idn2_lookup_u8 ()</h3>
<pre class="programlisting"><span class="returnvalue">int</span>
idn2_lookup_u8 (<em class="parameter"><code>const <span class="type">uint8_t</span> *src</code></em>,
                <em class="parameter"><code><span class="type">uint8_t</span> **lookupname</code></em>,
                <em class="parameter"><code><span class="type">int</span> flags</code></em>);</pre>
<p>Perform IDNA2008 lookup string conversion on domain name <em class="parameter"><code>src</code></em>
, as
described in section 5 of RFC 5891.  Note that the input string
must be encoded in UTF-8 and be in Unicode NFC form.</p>
<p>Pass <a class="link" href="libidn2-idn2.html#IDN2-NFC-INPUT:CAPS"><code class="literal">IDN2_NFC_INPUT</code></a> in <em class="parameter"><code>flags</code></em>
 to convert input to NFC form before
further processing.  Pass <a class="link" href="libidn2-idn2.html#IDN2-ALABEL-ROUNDTRIP:CAPS"><code class="literal">IDN2_ALABEL_ROUNDTRIP</code></a> in <em class="parameter"><code>flags</code></em>
 to
convert any input A-labels to U-labels and perform additional
testing.  Pass <a class="link" href="libidn2-idn2.html#IDN2-TRANSITIONAL:CAPS"><code class="literal">IDN2_TRANSITIONAL</code></a> to enable Unicode TR46
transitional processing, and <a class="link" href="libidn2-idn2.html#IDN2-NONTRANSITIONAL:CAPS"><code class="literal">IDN2_NONTRANSITIONAL</code></a> to enable
Unicode TR46 non-transitional processing.  Multiple flags may be
specified by binary or:ing them together, for example
<a class="link" href="libidn2-idn2.html#IDN2-NFC-INPUT:CAPS"><code class="literal">IDN2_NFC_INPUT</code></a> | <a class="link" href="libidn2-idn2.html#IDN2-NONTRANSITIONAL:CAPS"><code class="literal">IDN2_NONTRANSITIONAL</code></a>.</p>
<p>After version 0.11: <em class="parameter"><code>lookupname</code></em>
 may be NULL to test lookup of <em class="parameter"><code>src</code></em>

without allocating memory.</p>
<div class="refsect3">
<a name="id-1.2.3.6.2.7"></a><h4>Parameters</h4>
<div class="informaltable"><table width="100%" border="0">
<colgroup>
<col width="150px" class="parameters_name">
<col class="parameters_description">
<col width="200px" class="parameters_annotations">
</colgroup>
<tbody>
<tr>
<td class="parameter_name"><p>src</p></td>
<td class="parameter_description"><p>input zero-terminated UTF-8 string in Unicode NFC normalized form.</p></td>
<td class="parameter_annotations"> </td>
</tr>
<tr>
<td class="parameter_name"><p>lookupname</p></td>
<td class="parameter_description"><p>newly allocated output variable with name to lookup in DNS.</p></td>
<td class="parameter_annotations"> </td>
</tr>
<tr>
<td class="parameter_name"><p>flags</p></td>
<td class="parameter_description"><p>optional <a class="link" href="libidn2-idn2.html#idn2-flags" title="enum idn2_flags"><span class="type">idn2_flags</span></a> to modify behaviour.</p></td>
<td class="parameter_annotations"> </td>
</tr>
</tbody>
</table></div>
</div>
<div class="refsect3">
<a name="id-1.2.3.6.2.8"></a><h4>Returns</h4>
<p> On successful conversion <a class="link" href="libidn2-idn2.html#IDN2-OK:CAPS"><code class="literal">IDN2_OK</code></a> is returned, if the
output domain or any label would have been too long
<a class="link" href="libidn2-idn2.html#IDN2-TOO-BIG-DOMAIN:CAPS"><code class="literal">IDN2_TOO_BIG_DOMAIN</code></a> or <a class="link" href="libidn2-idn2.html#IDN2-TOO-BIG-LABEL:CAPS"><code class="literal">IDN2_TOO_BIG_LABEL</code></a> is returned, or
another error code is returned.</p>
<p></p>
</div>
</div>
<hr>
<div class="refsect2">
<a name="idn2-register-u8"></a><h3>idn2_register_u8 ()</h3>
<pre class="programlisting"><span class="returnvalue">int</span>
idn2_register_u8 (<em class="parameter"><code>const <span class="type">uint8_t</span> *ulabel</code></em>,
                  <em class="parameter"><code>const <span class="type">uint8_t</span> *alabel</code></em>,
                  <em class="parameter"><code><span class="type">uint8_t</span> **insertname</code></em>,
                  <em class="parameter"><code><span class="type">int</span> flags</code></em>);</pre>
<p>Perform IDNA2008 register string conversion on domain label <em class="parameter"><code>ulabel</code></em>

and <em class="parameter"><code>alabel</code></em>
, as described in section 4 of RFC 5891.  Note that the
input <em class="parameter"><code>ulabel</code></em>
 must be encoded in UTF-8 and be in Unicode NFC form.</p>
<p>Pass <a class="link" href="libidn2-idn2.html#IDN2-NFC-INPUT:CAPS"><code class="literal">IDN2_NFC_INPUT</code></a> in <em class="parameter"><code>flags</code></em>
 to convert input <em class="parameter"><code>ulabel</code></em>
 to NFC form
before further processing.</p>
<p>It is recommended to supply both <em class="parameter"><code>ulabel</code></em>
 and <em class="parameter"><code>alabel</code></em>
 for better
error checking, but supplying just one of them will work.  Passing
in only <em class="parameter"><code>alabel</code></em>
 is better than only <em class="parameter"><code>ulabel</code></em>
.  See RFC 5891 section
4 for more information.</p>
<p>After version 0.11: <em class="parameter"><code>insertname</code></em>
 may be NULL to test conversion of <em class="parameter"><code>src</code></em>

without allocating memory.</p>
<div class="refsect3">
<a name="id-1.2.3.6.3.8"></a><h4>Parameters</h4>
<div class="informaltable"><table width="100%" border="0">
<colgroup>
<col width="150px" class="parameters_name">
<col class="parameters_description">
<col width="200px" class="parameters_annotations">
</colgroup>
<tbody>
<tr>
<td class="parameter_name"><p>ulabel</p></td>
<td class="parameter_description"><p>input zero-terminated UTF-8 and Unicode NFC string, or NULL.</p></td>
<td class="parameter_annotations"> </td>
</tr>
<tr>
<td class="parameter_name"><p>alabel</p></td>
<td class="parameter_description"><p>input zero-terminated ACE encoded string (xn--), or NULL.</p></td>
<td class="parameter_annotations"> </td>
</tr>
<tr>
<td class="parameter_name"><p>insertname</p></td>
<td class="parameter_description"><p>newly allocated output variable with name to register in DNS.</p></td>
<td class="parameter_annotations"> </td>
</tr>
<tr>
<td class="parameter_name"><p>flags</p></td>
<td class="parameter_description"><p>optional <a class="link" href="libidn2-idn2.html#idn2-flags" title="enum idn2_flags"><span class="type">idn2_flags</span></a> to modify behaviour.</p></td>
<td class="parameter_annotations"> </td>
</tr>
</tbody>
</table></div>
</div>
<div class="refsect3">
<a name="id-1.2.3.6.3.9"></a><h4>Returns</h4>
<p> On successful conversion <a class="link" href="libidn2-idn2.html#IDN2-OK:CAPS"><code class="literal">IDN2_OK</code></a> is returned, when the
given <em class="parameter"><code>ulabel</code></em>
and <em class="parameter"><code>alabel</code></em>
does not match each other
<a class="link" href="libidn2-idn2.html#IDN2-UALABEL-MISMATCH:CAPS"><code class="literal">IDN2_UALABEL_MISMATCH</code></a> is returned, when either of the input
labels are too long <a class="link" href="libidn2-idn2.html#IDN2-TOO-BIG-LABEL:CAPS"><code class="literal">IDN2_TOO_BIG_LABEL</code></a> is returned, when <em class="parameter"><code>alabel</code></em>
does does not appear to be a proper A-label <a class="link" href="libidn2-idn2.html#IDN2-INVALID-ALABEL:CAPS"><code class="literal">IDN2_INVALID_ALABEL</code></a>
is returned, or another error code is returned.</p>
<p></p>
</div>
</div>
<hr>
<div class="refsect2">
<a name="idn2-lookup-ul"></a><h3>idn2_lookup_ul ()</h3>
<pre class="programlisting"><span class="returnvalue">int</span>
idn2_lookup_ul (<em class="parameter"><code>const <span class="type">char</span> *src</code></em>,
                <em class="parameter"><code><span class="type">char</span> **lookupname</code></em>,
                <em class="parameter"><code><span class="type">int</span> flags</code></em>);</pre>
<p>Perform IDNA2008 lookup string conversion on domain name <em class="parameter"><code>src</code></em>
, as
described in section 5 of RFC 5891.  Note that the input is assumed
to be encoded in the locale's default coding system, and will be
transcoded to UTF-8 and NFC normalized by this function.</p>
<p>Pass <a class="link" href="libidn2-idn2.html#IDN2-ALABEL-ROUNDTRIP:CAPS"><code class="literal">IDN2_ALABEL_ROUNDTRIP</code></a> in <em class="parameter"><code>flags</code></em>
 to convert any input A-labels
to U-labels and perform additional testing.  Pass
<a class="link" href="libidn2-idn2.html#IDN2-TRANSITIONAL:CAPS"><code class="literal">IDN2_TRANSITIONAL</code></a> to enable Unicode TR46 transitional processing,
and <a class="link" href="libidn2-idn2.html#IDN2-NONTRANSITIONAL:CAPS"><code class="literal">IDN2_NONTRANSITIONAL</code></a> to enable Unicode TR46 non-transitional
processing.  Multiple flags may be specified by binary or:ing them
together, for example <a class="link" href="libidn2-idn2.html#IDN2-ALABEL-ROUNDTRIP:CAPS"><code class="literal">IDN2_ALABEL_ROUNDTRIP</code></a> |
<a class="link" href="libidn2-idn2.html#IDN2-NONTRANSITIONAL:CAPS"><code class="literal">IDN2_NONTRANSITIONAL</code></a>.  The <a class="link" href="libidn2-idn2.html#IDN2-NFC-INPUT:CAPS"><code class="literal">IDN2_NFC_INPUT</code></a> in <em class="parameter"><code>flags</code></em>
 is always
enabled in this function.</p>
<p>After version 0.11: <em class="parameter"><code>lookupname</code></em>
 may be NULL to test lookup of <em class="parameter"><code>src</code></em>

without allocating memory.</p>
<div class="refsect3">
<a name="id-1.2.3.6.4.7"></a><h4>Parameters</h4>
<div class="informaltable"><table width="100%" border="0">
<colgroup>
<col width="150px" class="parameters_name">
<col class="parameters_description">
<col width="200px" class="parameters_annotations">
</colgroup>
<tbody>
<tr>
<td class="parameter_name"><p>src</p></td>
<td class="parameter_description"><p>input zero-terminated locale encoded string.</p></td>
<td class="parameter_annotations"> </td>
</tr>
<tr>
<td class="parameter_name"><p>lookupname</p></td>
<td class="parameter_description"><p>newly allocated output variable with name to lookup in DNS.</p></td>
<td class="parameter_annotations"> </td>
</tr>
<tr>
<td class="parameter_name"><p>flags</p></td>
<td class="parameter_description"><p>optional <a class="link" href="libidn2-idn2.html#idn2-flags" title="enum idn2_flags"><span class="type">idn2_flags</span></a> to modify behaviour.</p></td>
<td class="parameter_annotations"> </td>
</tr>
</tbody>
</table></div>
</div>
<div class="refsect3">
<a name="id-1.2.3.6.4.8"></a><h4>Returns</h4>
<p> On successful conversion <a class="link" href="libidn2-idn2.html#IDN2-OK:CAPS"><code class="literal">IDN2_OK</code></a> is returned, if
conversion from locale to UTF-8 fails then <a class="link" href="libidn2-idn2.html#IDN2-ICONV-FAIL:CAPS"><code class="literal">IDN2_ICONV_FAIL</code></a> is
returned, if the output domain or any label would have been too
long <a class="link" href="libidn2-idn2.html#IDN2-TOO-BIG-DOMAIN:CAPS"><code class="literal">IDN2_TOO_BIG_DOMAIN</code></a> or <a class="link" href="libidn2-idn2.html#IDN2-TOO-BIG-LABEL:CAPS"><code class="literal">IDN2_TOO_BIG_LABEL</code></a> is returned, or
another error code is returned.</p>
<p></p>
</div>
</div>
<hr>
<div class="refsect2">
<a name="idn2-register-ul"></a><h3>idn2_register_ul ()</h3>
<pre class="programlisting"><span class="returnvalue">int</span>
idn2_register_ul (<em class="parameter"><code>const <span class="type">char</span> *ulabel</code></em>,
                  <em class="parameter"><code>const <span class="type">char</span> *alabel</code></em>,
                  <em class="parameter"><code><span class="type">char</span> **insertname</code></em>,
                  <em class="parameter"><code><span class="type">int</span> flags</code></em>);</pre>
<p>Perform IDNA2008 register string conversion on domain label <em class="parameter"><code>ulabel</code></em>

and <em class="parameter"><code>alabel</code></em>
, as described in section 4 of RFC 5891.  Note that the
input <em class="parameter"><code>ulabel</code></em>
 is assumed to be encoded in the locale's default
coding system, and will be transcoded to UTF-8 and NFC normalized
by this function.</p>
<p>It is recommended to supply both <em class="parameter"><code>ulabel</code></em>
 and <em class="parameter"><code>alabel</code></em>
 for better
error checking, but supplying just one of them will work.  Passing
in only <em class="parameter"><code>alabel</code></em>
 is better than only <em class="parameter"><code>ulabel</code></em>
.  See RFC 5891 section
4 for more information.</p>
<p>After version 0.11: <em class="parameter"><code>insertname</code></em>
 may be NULL to test conversion of <em class="parameter"><code>src</code></em>

without allocating memory.</p>
<div class="refsect3">
<a name="id-1.2.3.6.5.7"></a><h4>Parameters</h4>
<div class="informaltable"><table width="100%" border="0">
<colgroup>
<col width="150px" class="parameters_name">
<col class="parameters_description">
<col width="200px" class="parameters_annotations">
</colgroup>
<tbody>
<tr>
<td class="parameter_name"><p>ulabel</p></td>
<td class="parameter_description"><p>input zero-terminated locale encoded string, or NULL.</p></td>
<td class="parameter_annotations"> </td>
</tr>
<tr>
<td class="parameter_name"><p>alabel</p></td>
<td class="parameter_description"><p>input zero-terminated ACE encoded string (xn--), or NULL.</p></td>
<td class="parameter_annotations"> </td>
</tr>
<tr>
<td class="parameter_name"><p>insertname</p></td>
<td class="parameter_description"><p>newly allocated output variable with name to register in DNS.</p></td>
<td class="parameter_annotations"> </td>
</tr>
<tr>
<td class="parameter_name"><p>flags</p></td>
<td class="parameter_description"><p>optional <a class="link" href="libidn2-idn2.html#idn2-flags" title="enum idn2_flags"><span class="type">idn2_flags</span></a> to modify behaviour.</p></td>
<td class="parameter_annotations"> </td>
</tr>
</tbody>
</table></div>
</div>
<div class="refsect3">
<a name="id-1.2.3.6.5.8"></a><h4>Returns</h4>
<p> On successful conversion <a class="link" href="libidn2-idn2.html#IDN2-OK:CAPS"><code class="literal">IDN2_OK</code></a> is returned, when the
given <em class="parameter"><code>ulabel</code></em>
and <em class="parameter"><code>alabel</code></em>
does not match each other
<a class="link" href="libidn2-idn2.html#IDN2-UALABEL-MISMATCH:CAPS"><code class="literal">IDN2_UALABEL_MISMATCH</code></a> is returned, when either of the input
labels are too long <a class="link" href="libidn2-idn2.html#IDN2-TOO-BIG-LABEL:CAPS"><code class="literal">IDN2_TOO_BIG_LABEL</code></a> is returned, when <em class="parameter"><code>alabel</code></em>
does does not appear to be a proper A-label <a class="link" href="libidn2-idn2.html#IDN2-INVALID-ALABEL:CAPS"><code class="literal">IDN2_INVALID_ALABEL</code></a>
is returned, or another error code is returned.</p>
<p></p>
</div>
</div>
<hr>
<div class="refsect2">
<a name="idn2-strerror"></a><h3>idn2_strerror ()</h3>
<pre class="programlisting">const <span class="returnvalue">char</span> *
idn2_strerror (<em class="parameter"><code><span class="type">int</span> rc</code></em>);</pre>
<p>Convert internal libidn2 error code to a humanly readable string.
The returned pointer must not be de-allocated by the caller.</p>
<div class="refsect3">
<a name="id-1.2.3.6.6.5"></a><h4>Parameters</h4>
<div class="informaltable"><table width="100%" border="0">
<colgroup>
<col width="150px" class="parameters_name">
<col class="parameters_description">
<col width="200px" class="parameters_annotations">
</colgroup>
<tbody><tr>
<td class="parameter_name"><p>rc</p></td>
<td class="parameter_description"><p>return code from another libidn2 function.</p></td>
<td class="parameter_annotations"> </td>
</tr></tbody>
</table></div>
</div>
<div class="refsect3">
<a name="id-1.2.3.6.6.6"></a><h4>Returns</h4>
<p> A humanly readable string describing error.</p>
<p></p>
</div>
</div>
<hr>
<div class="refsect2">
<a name="idn2-strerror-name"></a><h3>idn2_strerror_name ()</h3>
<pre class="programlisting">const <span class="returnvalue">char</span> *
idn2_strerror_name (<em class="parameter"><code><span class="type">int</span> rc</code></em>);</pre>
<p>Convert internal libidn2 error code to a string corresponding to
internal header file symbols.  For example,
idn2_strerror_name(IDN2_MALLOC) will return the string
"IDN2_MALLOC".</p>
<p>The caller must not attempt to de-allocate the returned string.</p>
<div class="refsect3">
<a name="id-1.2.3.6.7.6"></a><h4>Parameters</h4>
<div class="informaltable"><table width="100%" border="0">
<colgroup>
<col width="150px" class="parameters_name">
<col class="parameters_description">
<col width="200px" class="parameters_annotations">
</colgroup>
<tbody><tr>
<td class="parameter_name"><p>rc</p></td>
<td class="parameter_description"><p>return code from another libidn2 function.</p></td>
<td class="parameter_annotations"> </td>
</tr></tbody>
</table></div>
</div>
<div class="refsect3">
<a name="id-1.2.3.6.7.7"></a><h4>Returns</h4>
<p> A string corresponding to error code symbol.</p>
<p></p>
</div>
</div>
<hr>
<div class="refsect2">
<a name="idn2-check-version"></a><h3>idn2_check_version ()</h3>
<pre class="programlisting">const <span class="returnvalue">char</span> *
idn2_check_version (<em class="parameter"><code>const <span class="type">char</span> *req_version</code></em>);</pre>
<p>Check IDN2 library version.  This function can also be used to read
out the version of the library code used.  See <a class="link" href="libidn2-idn2.html#IDN2-VERSION:CAPS" title="IDN2_VERSION"><code class="literal">IDN2_VERSION</code></a> for a
suitable <em class="parameter"><code>req_version</code></em>
 string, it corresponds to the idn2.h header
file version.  Normally these two version numbers match, but if you
are using an application built against an older libidn2 with a
newer libidn2 shared library they will be different.</p>
<div class="refsect3">
<a name="id-1.2.3.6.8.5"></a><h4>Parameters</h4>
<div class="informaltable"><table width="100%" border="0">
<colgroup>
<col width="150px" class="parameters_name">
<col class="parameters_description">
<col width="200px" class="parameters_annotations">
</colgroup>
<tbody><tr>
<td class="parameter_name"><p>req_version</p></td>
<td class="parameter_description"><p>version string to compare with, or NULL.</p></td>
<td class="parameter_annotations"> </td>
</tr></tbody>
</table></div>
</div>
<div class="refsect3">
<a name="id-1.2.3.6.8.6"></a><h4>Returns</h4>
<p> Check that the version of the library is at
minimum the one given as a string in <em class="parameter"><code>req_version</code></em>
and return the
actual version string of the library; return NULL if the
condition is not met.  If NULL is passed to this function no
check is done and only the version string is returned.</p>
<p></p>
</div>
</div>
<hr>
<div class="refsect2">
<a name="idn2-free"></a><h3>idn2_free ()</h3>
<pre class="programlisting"><span class="returnvalue">void</span>
idn2_free (<em class="parameter"><code><span class="type">void</span> *ptr</code></em>);</pre>
<p>Call free(3) on the given pointer.</p>
<p>This function is typically only useful on systems where the library
malloc heap is different from the library caller malloc heap, which
happens on Windows when the library is a separate DLL.</p>
<div class="refsect3">
<a name="id-1.2.3.6.9.6"></a><h4>Parameters</h4>
<div class="informaltable"><table width="100%" border="0">
<colgroup>
<col width="150px" class="parameters_name">
<col class="parameters_description">
<col width="200px" class="parameters_annotations">
</colgroup>
<tbody><tr>
<td class="parameter_name"><p>ptr</p></td>
<td class="parameter_description"><p>pointer to deallocate</p></td>
<td class="parameter_annotations"> </td>
</tr></tbody>
</table></div>
</div>
</div>
</div>
<div class="refsect1">
<a name="libidn2-idn2.other_details"></a><h2>Types and Values</h2>
<div class="refsect2">
<a name="IDN2-VERSION:CAPS"></a><h3>IDN2_VERSION</h3>
<pre class="programlisting">#define IDN2_VERSION "0.16"
</pre>
<p>Pre-processor symbol with a string that describe the header file
version number.  Used together with <a class="link" href="libidn2-idn2.html#idn2-check-version" title="idn2_check_version ()"><code class="function">idn2_check_version()</code></a> to verify
header file and run-time library consistency.</p>
</div>
<hr>
<div class="refsect2">
<a name="IDN2-VERSION-NUMBER:CAPS"></a><h3>IDN2_VERSION_NUMBER</h3>
<pre class="programlisting">#define IDN2_VERSION_NUMBER 0x00160000
</pre>
<p>Pre-processor symbol with a hexadecimal value describing the header
file version number.  For example, when the header version is
1.2.4711 this symbol will have the value 0x01021267.  The last four
digits are used to enumerate development snapshots, but for all
public releases they will be 0000.</p>
</div>
<hr>
<div class="refsect2">
<a name="IDN2-LABEL-MAX-LENGTH:CAPS"></a><h3>IDN2_LABEL_MAX_LENGTH</h3>
<pre class="programlisting">#define IDN2_LABEL_MAX_LENGTH 63
</pre>
<p>Constant specifying the maximum length of a DNS label to 63
characters, as specified in RFC 1034.</p>
</div>
<hr>
<div class="refsect2">
<a name="IDN2-DOMAIN-MAX-LENGTH:CAPS"></a><h3>IDN2_DOMAIN_MAX_LENGTH</h3>
<pre class="programlisting">#define IDN2_DOMAIN_MAX_LENGTH 255
</pre>
<p>Constant specifying the maximum size of the wire encoding of a DNS
domain to 255 characters, as specified in RFC 1034.  Note that the
usual printed representation of a domain name is limited to 253
characters if it does not end with a period, or 254 characters if
it ends with a period.</p>
</div>
<hr>
<div class="refsect2">
<a name="idn2-flags"></a><h3>enum idn2_flags</h3>
<p>Flags to IDNA2008 functions, to be binary or:ed together.  Specify
only 0 if you want the default behaviour.</p>
<div class="refsect3">
<a name="id-1.2.3.7.6.4"></a><h4>Members</h4>
<div class="informaltable"><table width="100%" border="0">
<colgroup>
<col width="300px" class="enum_members_name">
<col class="enum_members_description">
<col width="200px" class="enum_members_annotations">
</colgroup>
<tbody>
<tr>
<td class="enum_member_name"><p><a name="IDN2-NFC-INPUT:CAPS"></a>IDN2_NFC_INPUT</p></td>
<td class="enum_member_description">
<p>Normalize input string using normalization form C.</p>
</td>
<td class="enum_member_annotations"> </td>
</tr>
<tr>
<td class="enum_member_name"><p><a name="IDN2-ALABEL-ROUNDTRIP:CAPS"></a>IDN2_ALABEL_ROUNDTRIP</p></td>
<td class="enum_member_description">
<p>Perform optional IDNA2008 lookup roundtrip check.</p>
</td>
<td class="enum_member_annotations"> </td>
</tr>
<tr>
<td class="enum_member_name"><p><a name="IDN2-TRANSITIONAL:CAPS"></a>IDN2_TRANSITIONAL</p></td>
<td class="enum_member_description">
<p>Perform Unicode TR46 transitional processing.</p>
</td>
<td class="enum_member_annotations"> </td>
</tr>
<tr>
<td class="enum_member_name"><p><a name="IDN2-NONTRANSITIONAL:CAPS"></a>IDN2_NONTRANSITIONAL</p></td>
<td class="enum_member_description">
<p>Perform Unicode TR46 non-transitional processing.</p>
</td>
<td class="enum_member_annotations"> </td>
</tr>
</tbody>
</table></div>
</div>
</div>
<hr>
<div class="refsect2">
<a name="idn2-rc"></a><h3>enum idn2_rc</h3>
<p>Return codes for IDN2 functions.  All return codes are negative
except for the successful code IDN2_OK which are guaranteed to be</p>
<div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>Positive values are reserved for non-error return codes.</p></li></ol></div>
<p>Note that the <a class="link" href="libidn2-idn2.html#idn2-rc" title="enum idn2_rc"><span class="type">idn2_rc</span></a> enumeration may be extended at a later date
to include new return codes.</p>
<div class="refsect3">
<a name="id-1.2.3.7.7.6"></a><h4>Members</h4>
<div class="informaltable"><table width="100%" border="0">
<colgroup>
<col width="300px" class="enum_members_name">
<col class="enum_members_description">
<col width="200px" class="enum_members_annotations">
</colgroup>
<tbody>
<tr>
<td class="enum_member_name"><p><a name="IDN2-OK:CAPS"></a>IDN2_OK</p></td>
<td class="enum_member_description">
<p>Successful return.</p>
</td>
<td class="enum_member_annotations"> </td>
</tr>
<tr>
<td class="enum_member_name"><p><a name="IDN2-MALLOC:CAPS"></a>IDN2_MALLOC</p></td>
<td class="enum_member_description">
<p>Memory allocation error.</p>
</td>
<td class="enum_member_annotations"> </td>
</tr>
<tr>
<td class="enum_member_name"><p><a name="IDN2-NO-CODESET:CAPS"></a>IDN2_NO_CODESET</p></td>
<td class="enum_member_description">
<p>Could not determine locale string encoding format.</p>
</td>
<td class="enum_member_annotations"> </td>
</tr>
<tr>
<td class="enum_member_name"><p><a name="IDN2-ICONV-FAIL:CAPS"></a>IDN2_ICONV_FAIL</p></td>
<td class="enum_member_description">
<p>Could not transcode locale string to UTF-8.</p>
</td>
<td class="enum_member_annotations"> </td>
</tr>
<tr>
<td class="enum_member_name"><p><a name="IDN2-ENCODING-ERROR:CAPS"></a>IDN2_ENCODING_ERROR</p></td>
<td class="enum_member_description">
<p>Unicode data encoding error.</p>
</td>
<td class="enum_member_annotations"> </td>
</tr>
<tr>
<td class="enum_member_name"><p><a name="IDN2-NFC:CAPS"></a>IDN2_NFC</p></td>
<td class="enum_member_description">
<p>Error normalizing string.</p>
</td>
<td class="enum_member_annotations"> </td>
</tr>
<tr>
<td class="enum_member_name"><p><a name="IDN2-PUNYCODE-BAD-INPUT:CAPS"></a>IDN2_PUNYCODE_BAD_INPUT</p></td>
<td class="enum_member_description">
<p>Punycode invalid input.</p>
</td>
<td class="enum_member_annotations"> </td>
</tr>
<tr>
<td class="enum_member_name"><p><a name="IDN2-PUNYCODE-BIG-OUTPUT:CAPS"></a>IDN2_PUNYCODE_BIG_OUTPUT</p></td>
<td class="enum_member_description">
<p>Punycode output buffer too small.</p>
</td>
<td class="enum_member_annotations"> </td>
</tr>
<tr>
<td class="enum_member_name"><p><a name="IDN2-PUNYCODE-OVERFLOW:CAPS"></a>IDN2_PUNYCODE_OVERFLOW</p></td>
<td class="enum_member_description">
<p>Punycode conversion would overflow.</p>
</td>
<td class="enum_member_annotations"> </td>
</tr>
<tr>
<td class="enum_member_name"><p><a name="IDN2-TOO-BIG-DOMAIN:CAPS"></a>IDN2_TOO_BIG_DOMAIN</p></td>
<td class="enum_member_description">
<p>Domain name longer than 255 characters.</p>
</td>
<td class="enum_member_annotations"> </td>
</tr>
<tr>
<td class="enum_member_name"><p><a name="IDN2-TOO-BIG-LABEL:CAPS"></a>IDN2_TOO_BIG_LABEL</p></td>
<td class="enum_member_description">
<p>Domain label longer than 63 characters.</p>
</td>
<td class="enum_member_annotations"> </td>
</tr>
<tr>
<td class="enum_member_name"><p><a name="IDN2-INVALID-ALABEL:CAPS"></a>IDN2_INVALID_ALABEL</p></td>
<td class="enum_member_description">
<p>Input A-label is not valid.</p>
</td>
<td class="enum_member_annotations"> </td>
</tr>
<tr>
<td class="enum_member_name"><p><a name="IDN2-UALABEL-MISMATCH:CAPS"></a>IDN2_UALABEL_MISMATCH</p></td>
<td class="enum_member_description">
<p>Input A-label and U-label does not match.</p>
</td>
<td class="enum_member_annotations"> </td>
</tr>
<tr>
<td class="enum_member_name"><p><a name="IDN2-INVALID-FLAGS:CAPS"></a>IDN2_INVALID_FLAGS</p></td>
<td class="enum_member_description">
<p>Invalid combination of flags.</p>
</td>
<td class="enum_member_annotations"> </td>
</tr>
<tr>
<td class="enum_member_name"><p><a name="IDN2-NOT-NFC:CAPS"></a>IDN2_NOT_NFC</p></td>
<td class="enum_member_description">
<p>String is not NFC.</p>
</td>
<td class="enum_member_annotations"> </td>
</tr>
<tr>
<td class="enum_member_name"><p><a name="IDN2-2HYPHEN:CAPS"></a>IDN2_2HYPHEN</p></td>
<td class="enum_member_description">
<p>String has forbidden two hyphens.</p>
</td>
<td class="enum_member_annotations"> </td>
</tr>
<tr>
<td class="enum_member_name"><p><a name="IDN2-HYPHEN-STARTEND:CAPS"></a>IDN2_HYPHEN_STARTEND</p></td>
<td class="enum_member_description">
<p>String has forbidden starting/ending hyphen.</p>
</td>
<td class="enum_member_annotations"> </td>
</tr>
<tr>
<td class="enum_member_name"><p><a name="IDN2-LEADING-COMBINING:CAPS"></a>IDN2_LEADING_COMBINING</p></td>
<td class="enum_member_description">
<p>String has forbidden leading combining character.</p>
</td>
<td class="enum_member_annotations"> </td>
</tr>
<tr>
<td class="enum_member_name"><p><a name="IDN2-DISALLOWED:CAPS"></a>IDN2_DISALLOWED</p></td>
<td class="enum_member_description">
<p>String has disallowed character.</p>
</td>
<td class="enum_member_annotations"> </td>
</tr>
<tr>
<td class="enum_member_name"><p><a name="IDN2-CONTEXTJ:CAPS"></a>IDN2_CONTEXTJ</p></td>
<td class="enum_member_description">
<p>String has forbidden context-j character.</p>
</td>
<td class="enum_member_annotations"> </td>
</tr>
<tr>
<td class="enum_member_name"><p><a name="IDN2-CONTEXTJ-NO-RULE:CAPS"></a>IDN2_CONTEXTJ_NO_RULE</p></td>
<td class="enum_member_description">
<p>String has context-j character with no rull.</p>
</td>
<td class="enum_member_annotations"> </td>
</tr>
<tr>
<td class="enum_member_name"><p><a name="IDN2-CONTEXTO:CAPS"></a>IDN2_CONTEXTO</p></td>
<td class="enum_member_description">
<p>String has forbidden context-o character.</p>
</td>
<td class="enum_member_annotations"> </td>
</tr>
<tr>
<td class="enum_member_name"><p><a name="IDN2-CONTEXTO-NO-RULE:CAPS"></a>IDN2_CONTEXTO_NO_RULE</p></td>
<td class="enum_member_description">
<p>String has context-o character with no rull.</p>
</td>
<td class="enum_member_annotations"> </td>
</tr>
<tr>
<td class="enum_member_name"><p><a name="IDN2-UNASSIGNED:CAPS"></a>IDN2_UNASSIGNED</p></td>
<td class="enum_member_description">
<p>String has forbidden unassigned character.</p>
</td>
<td class="enum_member_annotations"> </td>
</tr>
<tr>
<td class="enum_member_name"><p><a name="IDN2-BIDI:CAPS"></a>IDN2_BIDI</p></td>
<td class="enum_member_description">
<p>String has forbidden bi-directional properties.</p>
</td>
<td class="enum_member_annotations"> </td>
</tr>
<tr>
<td class="enum_member_name"><p><a name="IDN2-DOT-IN-LABEL:CAPS"></a>IDN2_DOT_IN_LABEL</p></td>
<td class="enum_member_description">
<p>Label has forbidden dot (TR46).</p>
</td>
<td class="enum_member_annotations"> </td>
</tr>
<tr>
<td class="enum_member_name"><p><a name="IDN2-INVALID-TRANSITIONAL:CAPS"></a>IDN2_INVALID_TRANSITIONAL</p></td>
<td class="enum_member_description">
<p>Label has character forbidden in transitional mode (TR46).</p>
</td>
<td class="enum_member_annotations"> </td>
</tr>
<tr>
<td class="enum_member_name"><p><a name="IDN2-INVALID-NONTRANSITIONAL:CAPS"></a>IDN2_INVALID_NONTRANSITIONAL</p></td>
<td class="enum_member_description">
<p>Label has character forbidden in non-transitional mode (TR46).</p>
</td>
<td class="enum_member_annotations"> </td>
</tr>
</tbody>
</table></div>
</div>
</div>
</div>
</div>
<div class="footer">
<hr>
          Generated by GTK-Doc V1.21</div>
</body>
</html>